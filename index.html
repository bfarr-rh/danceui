


<!DOCTYPE HTML>
<html>
    <head>
        <link rel="stylesheet" href="jquery-ui-1.12.1/jquery-ui.min.css">
        <link rel="stylesheet" href="dance.css"/>
        <script src="envvars.js"></script>
        <script src="jquery-ui-1.12.1/external/jquery/jquery.js"></script>
        <script src="jquery-ui-1.12.1/jquery-ui.min.js"></script>
        <script src="p5.min.js"></script>
        <script src="p5.dom.min.js"></script>
        <script src="p5.sound.min.js"></script>
        <script src="sketch.js"></script>
    </head>

	<body >
        <div style="width:100%; margin-left:20px">
                <img src="images/Logo-RedHat-A-Color-RGB.svg" width="216" height="52" style="width: 162px; height: 39px; position: absolute; left: 20px; top: 5px;">
            <div align="center">
                <h1>TRAIN OUR ROBOT TO DANCE! </h1>
            </div>
        </div>
        <div style="width:100%">
            <div style="float: left;margin-left:10px;">
                <div>
                    <label class="lbl">1. Play a Song:</label><select id="song" class="lbl"><option value="IceIceBaby.m4a">Ice Ice Baby</option>
                        <option value="AshboryBYU.mp3">AshboryBYU</option></select>
                    <br/>
                    <br/>
                </div>
                <div class="row">
                    <p class="lbl" >2. Build a Dance Routine (>15 moves)!</p>
                </div>
                
                <div class="table" >
                        <div class="row">
                                <div class="cell1" style="vertical-align: top"><button id="spinleft" class="spinleftbtn">SPIN LEFT!</button></div>
                                <div ></div>
                                <div class="cell3" style="vertical-align: top"><button id="spinright" class="spinrightbtn">SPIN RIGHT!</button> </div>
                        </div>
                        <div class="row">
                                <div ></div>
                            <div class="cell2"><img id="imgup" src="images/arrow-up.png" class="arrow-vert"/></div>
                            <div ></div>
                        </div>
                        <div class="row">
                            <div class="cell1"><img id="imgleft" src="images/arrow-left.png" class="arrow"/></div>
                            <div>
                            </div>
                            <div class="cell3"><img id="imgright" src="images/arrow-right.png" class="arrow"/></div>
                        </div>
                        <div class="row">
                            <div ></div>
                            <div class="cell2"><img id="imgdown" src="images/arrow-down.png" class="arrow-vert"/></div>
                            <div ></div>
                        </div>
                        
                </div>
            </div>
            <div style="width:500px;height:580px;float: right;margin-right:10px;">
                    <div id="sketch-holder" style="width:500px;height: 240px"></div>
                    <div style="margin-top: 30px;">
                        <div  align="center">
                            <p align="center" class="lbl">Your Dance Moves</p>
                            <div id="ydm" style="width:380px;height: 200px"></div>
                            <textarea id="stepsBox" rows="15" cols="60" style="display: none;"></textarea>
                        </div>
                    </div>
            </div>
            <div style="float: left;margin-left:10px;">
                <label class="lbl">3. Model Name:</label><input id="experimentid" class="lbl" type="text" size="15"/>
                <br/>
                <p class="lbl" >4. Train the Model and let ML do the work!</p>
                <div align="center">
                    <button id="trainData" class="trainbtn" disabled>TRAIN THE MODEL!</button>
                </div>
                <label id="extraparams" class="lbl">+</label>
                <br/>
            </div>
            <div style="width:500px; float: right;margin-right:10px;">
                <div  align="center">
                        <p  align="center" class="lbl" >ML Dance Moves</p>
                        <div id="mldm" style="width:380px;height: 200px"></div>
                        <textarea id="fftBox" rows="15" cols="60" style="display: none;"></textarea>
                </div>
            </div>
            <div id="params" class="row">
                <label  class="lbl">Robot:</label><input id="robot_name" size="12" class="lbl" value="MOE"/>
                <br/>
                <label  class="lbl">Speed (1-99):</label><input id="speed" type="text" size="3" value="80" class="lbl"/><label  class="lbl">Turn Speed (1-99):</label><input id="turnspeed" type="text" size="3" value="90" class="lbl"/>
                <br/>
                <label  class="lbl">Delay MS:</label><input id="delayms" type="text" size="5" value="100" class="lbl"/><label  class="lbl">Sampling Rate:</label><input id="sampllingrate" type="text" size="5" value="30" class="lbl"/>
                <br/>
                <label  class="lbl">Predict Mode:</label><input id="predictmode" type="text" size="2" value="0" class="lbl"/>
                <label  class="lbl">Send To Robot:</label><input id="send_commands_to_robot" type="text" size="2" value="1" class="lbl"/>
                <br/>
                <button id="loadModel" class="trainbtn" >LOAD MODEL</button><button id="saveModel" class="trainbtn" >SAVE MODEL</button>
            </div>
            
        </div>
        
        <script>
            $(function() {
                $("#song").change(function() {
                    myp5.changeSong($("#song").val());
                });
                
                $("#send_commands_to_robot").change(function() {
                    send_commands_to_robot = $("#send_commands_to_robot").val();
                });
                
                
                $("#predictmode").change(function() {
                    predict_mode = $("#predictmode").val();
                });
                $("#sampllingrate").change(function() {
                    sampling_rate = $("#sampllingrate").val();
                });
                

                $("#params").hide();
                $("#extraparams").click(function() {
                    if ($("#params").is(":visible")) {
                        $("#params").hide();
                        $("#extraparams").html("+");
                    } else {
                        $("#params").show();
                        $("#extraparams").html("-");
                    }
                   
                });
                $("#loadModel").click(function(){
                    loadModel();
                });
                $("#saveModel").click(function(){
                    saveModel();
                });
                

                
                $("#stepsBox").change(function() {
                    $('#trainData').prop('disabled', $('#stepsBox').val().length < 1125)
                    // Enable after approx 15 moves
                });

                $("#trainData").click(function(){
                    trainData();
                });
                $("#predictData").click(function(){
                    predict();
                });
                $("#spinleft").click(function(){
                    var fft = getcurrentfft();
                    if (fft != '') {
                        $('#stepsBox').append(fft + ",-360\r"); 
                        $("#stepsBox").change();
                        addMove(0,0,-1);
                    }
                    
                });
                $("#spinright").click(function(){
                    var fft = getcurrentfft();
                    if (fft != '') {
                        $('#stepsBox').append(fft + ",360\r"); 
                        $("#stepsBox").change();
                        addMove(0,0,1);
                    }
                });
                $("#imgup").click(function(){
                    var fft = getcurrentfft();
                    if (fft != '') {
                        $('#stepsBox').append(fft + ",180\r"); 
                        $("#stepsBox").change();
                        addMove(0,-35,0);
                    }
                });
                $("#imgleft").click(function(){
                    var fft = getcurrentfft();
                    if (fft != '') {
                        $('#stepsBox').append(fft + ",-90\r"); 
                        $("#stepsBox").change();
                        addMove(-35,0,0);
                    }
                });
                $("#imgright").click(function(){
                    var fft = getcurrentfft();
                    if (fft != '') {
                        $('#stepsBox').append(fft + ",90\r"); 
                        $("#stepsBox").change();
                        addMove(35,0,0);
                    }
                });
                $("#imgdown").click(function(){
                    var fft = getcurrentfft();
                    if (fft != '') {
                        $('#stepsBox').append(fft + ",-180\r");
                        $("#stepsBox").change();
                        addMove(0,35,0);
                    } 
                });
            });
            
        </script>

	</body>
</html>
